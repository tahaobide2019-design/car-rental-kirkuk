<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„Ø­ÙˆØª Ù„Ù„ØªØ¹Ù„ÙŠÙ… | ğŸ“</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="prices.js"></script>
    <style>
        body { font-family: 'Tajawal', sans-serif; background-color: #f1f5f9; }
        .hero-training { background: linear-gradient(135deg, #002349 0%, #0c4a6e 100%); }
        .plan-card { transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); cursor: pointer; border: 3px solid transparent; background: white; }
        .plan-card.active { border-color: #D4AF37; background: #fffdf5; transform: translateY(-5px); box-shadow: 0 20px 25px -5px rgba(212, 175, 55, 0.2); }
    </style>
</head>
<body class="pb-20">

    <header class="hero-training text-white pt-16 pb-32 text-center relative">
        <h1 class="text-3xl font-black text-[#D4AF37]">Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„Ø­ÙˆØª Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©</h1>
        <p class="opacity-70 mt-2">Ø§Ø­ØªØ±Ø§ÙÙŠØ©ØŒ Ø£Ù…Ø§Ù†ØŒ ÙˆØ«Ù‚Ø© Ø®Ù„Ù Ø§Ù„Ù…Ù‚ÙˆØ¯</p>
    </header>

    <main class="container mx-auto px-4 -mt-20 relative z-10 max-w-4xl">
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
            <div id="card-manual" onclick="selectPlan('manual', this)" class="plan-card p-6 rounded-[2.5rem] shadow-sm text-center">
                <div class="w-16 h-16 bg-blue-50 text-[#002349] rounded-2xl flex items-center justify-center mx-auto mb-4 text-2xl"><i class="fas fa-cog"></i></div>
                <h4 class="font-black text-lg">Ù‚ÙŠØ± Ø¹Ø§Ø¯ÙŠ</h4>
                <div id="price-manual" class="text-[#002349] font-black text-xl mt-2">0 Ø¯.Ø¹</div>
            </div>

            <div id="card-automatic" onclick="selectPlan('automatic', this)" class="plan-card p-6 rounded-[2.5rem] shadow-sm text-center active">
                <div class="w-16 h-16 bg-blue-50 text-[#002349] rounded-2xl flex items-center justify-center mx-auto mb-4 text-2xl"><i class="fas fa-bolt"></i></div>
                <h4 class="font-black text-lg">Ø£ÙˆØªÙˆÙ…Ø§ØªÙŠÙƒ</h4>
                <div id="price-automatic" class="text-[#002349] font-black text-xl mt-2">0 Ø¯.Ø¹</div>
            </div>

            <div id="card-vip" onclick="selectPlan('vip_fast', this)" class="plan-card p-6 rounded-[2.5rem] shadow-sm text-center">
                <div class="w-16 h-16 bg-amber-50 text-[#D4AF37] rounded-2xl flex items-center justify-center mx-auto mb-4 text-2xl"><i class="fas fa-crown"></i></div>
                <h4 class="font-black text-lg">ÙƒÙˆØ±Ø³ VIP</h4>
                <div id="price-vip" class="text-[#002349] font-black text-xl mt-2">0 Ø¯.Ø¹</div>
            </div>
        </div>

        <section class="bg-white rounded-[3rem] p-8 shadow-xl border border-white space-y-6">
            <h3 class="font-black text-[#002349] flex items-center gap-2 mb-4 italic">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªØ¯Ø±Ø¨</h3>
            <input type="text" id="stdName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" class="w-full p-4 bg-slate-50 rounded-2xl outline-none focus:ring-2 ring-[#D4AF37] font-bold">
            <input type="tel" id="stdPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" class="w-full p-4 bg-slate-50 rounded-2xl outline-none focus:ring-2 ring-[#D4AF37] font-bold text-left" dir="ltr">
            
            <button onclick="finishTrainingBooking()" class="w-full bg-[#002349] text-white py-5 rounded-[2rem] font-black text-xl shadow-lg hover:bg-[#D4AF37] hover:text-[#002349] transition-all flex items-center justify-center gap-3">
                ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ <i class="fas fa-check-double"></i>
            </button>
        </section>
    </main>

    <script>
        // Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ù…Ø§ÙŠØ©: Ø¥Ø°Ø§ Ù„Ù… ÙŠØ¬Ø¯ Ù…Ù„Ù Ø§Ù„Ø£Ø³Ø¹Ø§Ø±ØŒ ÙŠØ³ØªØ®Ø¯Ù… Ù‡Ø°Ù‡ Ø§Ù„Ù‚ÙŠÙ… ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
        const defaultPrices = { manual: 150000, automatic: 200000, vip_fast: 300000 };
        let currentPrices = defaultPrices;

        let selectedPlanKey = "automatic";
        let planNameText = "Ø£ÙˆØªÙˆÙ…Ø§ØªÙŠÙƒ";

        window.onload = function() {
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† AL_HUT_DATA Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹ Ù…Ù† Ù…Ù„Ù prices.js
            if (typeof AL_HUT_DATA !== 'undefined' && AL_HUT_DATA.training) {
                currentPrices = AL_HUT_DATA.training;
            }

            // Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±
            document.getElementById('price-manual').innerText = currentPrices.manual.toLocaleString() + " Ø¯.Ø¹";
            document.getElementById('price-automatic').innerText = currentPrices.automatic.toLocaleString() + " Ø¯.Ø¹";
            document.getElementById('price-vip').innerText = currentPrices.vip_fast.toLocaleString() + " Ø¯.Ø¹";
        };

        function selectPlan(plan, el) {
            document.querySelectorAll('.plan-card').forEach(c => c.classList.remove('active'));
            el.classList.add('active');
            selectedPlanKey = plan;
            planNameText = el.querySelector('h4').innerText;
        }

        function finishTrainingBooking() {
            const name = document.getElementById('stdName').value;
            const phone = document.getElementById('stdPhone').value;

            if(!name || !phone) {
                alert("ÙŠØ±Ø¬Ù‰ ØªØ²ÙˆÙŠØ¯Ù†Ø§ Ø¨Ø§Ø³Ù…Ùƒ ÙˆØ±Ù‚Ù… Ù‡Ø§ØªÙÙƒ ğŸ‹");
                return;
            }

            const u = new URLSearchParams(window.location.search);
            u.set('name', name);
            u.set('phone', phone);
            u.set('vehicle', `ÙƒÙˆØ±Ø³ ØªØ¯Ø±ÙŠØ¨: ${planNameText}`);
            u.set('final_price', currentPrices[selectedPlanKey]);
            u.set('service', 'training');

            window.location.href = `review.html?${u.toString()}`;
        }
    </script>
</body>
</html>
