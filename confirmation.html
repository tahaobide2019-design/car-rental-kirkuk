<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø² - ØªØ£Ø¬ÙŠØ± Ø³ÙŠØ§Ø±Ø§Øª ÙƒØ±ÙƒÙˆÙƒ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --success-color: #27ae60;
            --accent-color: #e74c3c;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            direction: rtl;
        }
        
        .confirmation-container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 40px;
            max-width: 600px;
            width: 100%;
            text-align: center;
        }
        
        .success-icon {
            font-size: 80px;
            color: var(--success-color);
            margin-bottom: 20px;
            animation: bounce 1s infinite alternate;
        }
        
        @keyframes bounce {
            from { transform: translateY(0); }
            to { transform: translateY(-10px); }
        }
        
        h1 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 2rem;
        }
        
        .subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1rem;
        }
        
        .booking-details {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            margin: 25px 0;
            text-align: right;
            border-right: 4px solid var(--secondary-color);
        }
        
        .detail-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        
        .detail-item:last-child {
            border-bottom: none;
        }
        
        .detail-label {
            color: #666;
            font-weight: 600;
        }
        
        .detail-value {
            color: var(--primary-color);
            font-weight: 700;
        }
        
        .whatsapp-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            background: #25D366;
            color: white;
            padding: 15px 30px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 700;
            font-size: 1.1rem;
            margin: 20px 0;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            width: 100%;
        }
        
        .whatsapp-button:hover {
            background: #128C7E;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(37, 211, 102, 0.3);
        }
        
        .whatsapp-button i {
            font-size: 1.5rem;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }
        
        .btn {
            flex: 1;
            padding: 12px 20px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            text-align: center;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background: var(--secondary-color);
            color: white;
        }
        
        .btn-primary:hover {
            background: #2980b9;
        }
        
        .btn-secondary {
            background: #f8f9fa;
            color: var(--primary-color);
            border: 2px solid #ddd;
        }
        
        .btn-secondary:hover {
            background: #e9ecef;
        }
        
        .note {
            margin-top: 25px;
            padding: 15px;
            background: #fff8e1;
            border-radius: 8px;
            color: #ff8f00;
            font-size: 0.9rem;
            border-right: 4px solid #ffb300;
        }
        
        @media (max-width: 768px) {
            .confirmation-container {
                padding: 25px;
            }
            
            .action-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="confirmation-container">
        <div class="success-icon">
            <i class="fas fa-check-circle"></i>
        </div>
        
        <h1>ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø­Ø¬Ø²Ùƒ Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰</h1>
        <p class="subtitle">Ø±Ù‚Ù… Ø§Ù„Ø­Ø¬Ø²: <strong>#KRK-${Date.now().toString().slice(-6)}</strong></p>
        
        <div class="booking-details" id="bookingDetails">
            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
        </div>
        
        <button class="whatsapp-button" id="whatsappBtn">
            <i class="fab fa-whatsapp"></i>
            Ø§Ø±Ø³Ù„ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø² Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨
        </button>
        
        <div class="note">
            <i class="fas fa-info-circle"></i>
            Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø© Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© ÙˆØªØ³Ù„ÙŠÙ… Ø§Ù„Ø³ÙŠØ§Ø±Ø©.
        </div>
        
        <div class="action-buttons">
            <a href="index.html" class="btn btn-primary">
                <i class="fas fa-home"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            </a>
            <a href="cars.html" class="btn btn-secondary">
                <i class="fas fa-car"></i> Ø§Ø³ØªØ¦Ø¬Ø§Ø± Ø³ÙŠØ§Ø±Ø© Ø£Ø®Ø±Ù‰
            </a>
        </div>
    </div>

    <script>
        // Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø¬Ø²
        const bookingData = JSON.parse(localStorage.getItem('bookingData')) || {};
        const personalData = JSON.parse(localStorage.getItem('personalData')) || {};
        
        // Ø¯Ø§Ù„Ø© Ù„ØªØ­ÙˆÙŠÙ„ Ø±Ù…Ø² Ø§Ù„Ø³ÙŠØ§Ø±Ø© Ø¥Ù„Ù‰ Ø§Ø³Ù…
        function getCarName(carCode) {
            const cars = {
                'camry': 'ØªÙˆÙŠÙˆØªØ§ ÙƒØ§Ù…Ø±ÙŠ 2023',
                'elantra': 'Ù‡ÙŠÙˆÙ†Ø¯Ø§ÙŠ Ø§Ù„Ù†ØªØ±Ø§ 2024',
                'sportage': 'ÙƒÙŠØ§ Ø³Ø¨ÙˆØ±ØªÙŠØ¬ 2023',
                'mercedes': 'Ù…Ø±Ø³ÙŠØ¯Ø³ C200 2022',
                'h1': 'Ù‡ÙŠÙˆÙ†Ø¯Ø§ÙŠ H1 2023',
                'sunny': 'Ù†ÙŠØ³Ø§Ù† ØµÙ†ÙŠ 2023'
            };
            return cars[carCode] || 'Ø³ÙŠØ§Ø±Ø©';
        }
        
        // Ø¯Ø§Ù„Ø© Ù„Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø­Ø¬Ø²
        function displayBookingDetails() {
            const detailsContainer = document.getElementById('bookingDetails');
            
            const details = `
                <div class="detail-item">
                    <span class="detail-label">Ø§Ù„Ø³ÙŠØ§Ø±Ø©:</span>
                    <span class="detail-value">${getCarName(bookingData.carType)}</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Ø§Ù„Ù…Ø¯Ø©:</span>
                    <span class="detail-value">${bookingData.days || 1} ÙŠÙˆÙ…</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Ø§Ù„ØªØ§Ø±ÙŠØ®:</span>
                    <span class="detail-value">${bookingData.pickupDate || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Ø§Ù„ÙˆÙ‚Øª:</span>
                    <span class="detail-value">${bookingData.pickupTime || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Ø§Ù„Ù…ÙˆÙ‚Ø¹:</span>
                    <span class="detail-value">${bookingData.location?.area || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Ø§Ù„Ù…Ø¨Ù„Øº:</span>
                    <span class="detail-value">${bookingData.totalPrice || '0 Ø¯ÙŠÙ†Ø§Ø±'}</span>
                </div>
                ${personalData.name ? `
                <div class="detail-item">
                    <span class="detail-label">Ø§Ù„Ø§Ø³Ù…:</span>
                    <span class="detail-value">${personalData.name}</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Ø§Ù„Ù‡Ø§ØªÙ:</span>
                    <span class="detail-value">${personalData.phone}</span>
                </div>
                ` : ''}
            `;
            
            detailsContainer.innerHTML = details;
        }
        
        // Ø¯Ø§Ù„Ø© Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© ÙˆØ§ØªØ³Ø§Ø¨
        function sendWhatsAppMessage() {
            // Ø¥Ù†Ø´Ø§Ø¡ Ù†Øµ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
            const message = `ğŸ“‹ *Ø·Ù„Ø¨ Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯ - ØªØ£Ø¬ÙŠØ± Ø³ÙŠØ§Ø±Ø§Øª ÙƒØ±ÙƒÙˆÙƒ*
            
ğŸš— *Ø§Ù„Ø³ÙŠØ§Ø±Ø©:* ${getCarName(bookingData.carType)}
ğŸ“… *Ø§Ù„Ù…Ø¯Ø©:* ${bookingData.days || 1} ÙŠÙˆÙ…
ğŸ’° *Ø§Ù„Ù…Ø¨Ù„Øº:* ${bookingData.totalPrice || '0 Ø¯ÙŠÙ†Ø§Ø±'}
ğŸ“† *Ø§Ù„ØªØ§Ø±ÙŠØ®:* ${bookingData.pickupDate || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}
â° *Ø§Ù„ÙˆÙ‚Øª:* ${bookingData.pickupTime || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}
ğŸ“ *Ø§Ù„Ù…ÙˆÙ‚Ø¹:* ${bookingData.location?.area || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}

ğŸ‘¤ *Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„:*
   â€¢ Ø§Ù„Ø§Ø³Ù…: ${personalData.name || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}
   â€¢ Ø§Ù„Ù‡Ø§ØªÙ: ${personalData.phone || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}
   â€¢ Ø§Ù„Ø¨Ø±ÙŠØ¯: ${personalData.email || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}

ğŸ“ *Ù…Ù„Ø§Ø­Ø¸Ø§Øª:* ${bookingData.notes || 'Ù„Ø§ ØªÙˆØ¬Ø¯'}

ğŸ”¢ *Ø±Ù‚Ù… Ø§Ù„Ø­Ø¬Ø²:* KRK-${Date.now().toString().slice(-6)}
â³ *Ø§Ù„ÙˆÙ‚Øª:* ${new Date().toLocaleString('ar-IQ')}

_ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ù‡Ø°Ø§ Ø§Ù„Ø·Ù„Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù…Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ_`;
            
            // ØªØ±Ù…ÙŠØ² Ø§Ù„Ø±Ø³Ø§Ù„Ø©
            const encodedMessage = encodeURIComponent(message);
            
            // Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ (Ø¨Ø¯ÙˆÙ† +)
            const phoneNumber = '9647713225471';
            
            // Ø±Ø§Ø¨Ø· ÙˆØ§ØªØ³Ø§Ø¨
            const whatsappURL = `https://wa.me/${phoneNumber}?text=${encodedMessage}`;
            
            // ÙØªØ­ ÙˆØ§ØªØ³Ø§Ø¨
            window.open(whatsappURL, '_blank');
            
            // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯
            setTimeout(() => {
                alert('ØªÙ… ÙØªØ­ ÙˆØ§ØªØ³Ø§Ø¨. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨Ù†ÙØ³Ùƒ Ø¥Ø°Ø§ Ù„Ù… ØªÙØªØ­ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹.');
            }, 1000);
        }
        
        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            displayBookingDetails();
            
            // Ø¥Ø¶Ø§ÙØ© Ø­Ø¯Ø« Ù„Ù„Ø²Ø±
            document.getElementById('whatsappBtn').addEventListener('click', sendWhatsAppMessage);
            
            // Ø¥Ø±Ø³Ø§Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
            setTimeout(() => {
                // ÙŠÙ…ÙƒÙ† ØªÙØ¹ÙŠÙ„ Ù‡Ø°Ø§ Ø§Ù„Ø³Ø·Ø± Ù„Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
                // sendWhatsAppMessage();
            }, 3000);
        });
    </script>
</body>
</html>
