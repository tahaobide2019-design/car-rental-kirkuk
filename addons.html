<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¥Ø¶Ø§ÙØ§Øª Ø§Ù„Ø­ÙˆØª | Ø®ØµØµ Ø·Ù„Ø¨Ùƒ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Tajawal', sans-serif; background-color: #f8fafc; }
        .hero-bg { background: linear-gradient(135deg, #002349 0%, #003366 100%); }
        .addon-card { transition: all 0.3s ease; border: 2px solid transparent; cursor: pointer; }
        .addon-card.selected { border-color: #D4AF37; background-color: #fffdf5; transform: scale(1.02); }
        .checkbox-custom { width: 20px; height: 20px; border-radius: 50%; border: 2px solid #ddd; display: flex; align-items: center; justify-content: center; transition: 0.3s; }
        .selected .checkbox-custom { background: #D4AF37; border-color: #D4AF37; color: white; }
    </style>
</head>
<body class="text-[#002349]">

    <header class="hero-bg text-white pt-12 pb-32 text-center relative">
        <h1 class="text-3xl font-black text-[#D4AF37]">ØªØ®ØµÙŠØµ Ø§Ù„Ø±ÙØ§Ù‡ÙŠØ© ğŸ‹</h1>
        <p id="carDisplay" class="text-sm opacity-80 mt-2 font-bold tracking-widest uppercase"></p>
    </header>

    <main class="container mx-auto px-4 -mt-20 relative z-10 pb-20">
        <div class="bg-white shadow-2xl rounded-[3rem] p-8 max-w-4xl mx-auto">
            
            <h2 class="text-2xl font-black mb-6 text-center">Ø£Ø¶Ù Ù„Ù…Ø³ØªÙƒ Ø§Ù„Ø®Ø§ØµØ© Ù„Ù„Ø·Ù„Ø¨</h2>

            <div id="personalSection" class="hidden grid grid-cols-1 md:grid-cols-2 gap-4">
                <div onclick="toggleAddon(this, 15000, 'ÙƒØ±Ø³ÙŠ Ø£Ø·ÙØ§Ù„')" class="addon-card p-5 rounded-3xl bg-gray-50 flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <div class="text-2xl">ğŸ‘¶</div>
                        <div><div class="font-black">ÙƒØ±Ø³ÙŠ Ø£Ø·ÙØ§Ù„</div><div class="text-xs text-gray-400">15,000 Ø¯.Ø¹</div></div>
                    </div>
                    <div class="checkbox-custom"><i class="fas fa-check text-[10px]"></i></div>
                </div>

                <div onclick="toggleAddon(this, 10000, 'ØªÙˆØµÙŠÙ„ Ù„Ù„Ø¨ÙŠØª')" class="addon-card p-5 rounded-3xl bg-gray-50 flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <div class="text-2xl">ğŸ </div>
                        <div><div class="font-black">ØªÙˆØµÙŠÙ„ Ù„Ù„Ø³ÙŠØ§Ø±Ø©</div><div class="text-xs text-gray-400">10,000 Ø¯.Ø¹</div></div>
                    </div>
                    <div class="checkbox-custom"><i class="fas fa-check text-[10px]"></i></div>
                </div>

                <div onclick="toggleAddon(this, 40000, 'Ø³Ø§Ø¦Ù‚ Ø®Ø§Øµ')" class="addon-card p-5 rounded-3xl bg-gray-50 flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <div class="text-2xl">ğŸ¤µâ€â™‚ï¸</div>
                        <div><div class="font-black">Ø³Ø§Ø¦Ù‚ Ø®Ø§Øµ</div><div class="text-xs text-gray-400">40,000 Ø¯.Ø¹</div></div>
                    </div>
                    <div class="checkbox-custom"><i class="fas fa-check text-[10px]"></i></div>
                </div>

                <div onclick="toggleAddon(this, 5000, 'GPS')" class="addon-card p-5 rounded-3xl bg-gray-50 flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <div class="text-2xl">ğŸ›°ï¸</div>
                        <div><div class="font-black">Ù†Ø¸Ø§Ù… GPS</div><div class="text-xs text-gray-400">5,000 Ø¯.Ø¹</div></div>
                    </div>
                    <div class="checkbox-custom"><i class="fas fa-check text-[10px]"></i></div>
                </div>
            </div>

            <div id="weddingSection" class="hidden space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-xs font-black text-gray-400 mb-2 mr-2">Ù„ÙˆÙ† Ø§Ù„Ø³ÙŠØ§Ø±Ø©</label>
                        <select id="carColor" class="w-full p-4 bg-gray-50 rounded-2xl font-bold outline-none border-2 border-transparent focus:border-[#D4AF37]">
                            <option>Ø£Ø¨ÙŠØ¶ Ù…Ù„ÙƒÙŠ</option>
                            <option>Ø£Ø³ÙˆØ¯ ÙØ§Ø®Ø±</option>
                            <option>ÙØ¶ÙŠ</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-xs font-black text-gray-400 mb-2 mr-2">Ù„ÙˆÙ† Ø§Ù„ØªØ²ÙŠÙŠÙ† (Ø§Ù„ÙˆØ±Ø¯)</label>
                        <select id="decorColor" class="w-full p-4 bg-gray-50 rounded-2xl font-bold outline-none border-2 border-transparent focus:border-[#D4AF37]">
                            <option>Ø£Ø­Ù…Ø± ÙƒÙ„Ø§Ø³ÙŠÙƒ</option>
                            <option>Ø£Ø¨ÙŠØ¶ ÙˆÙˆØ±Ø¯ÙŠ</option>
                            <option>Ø¨Ù†ÙØ³Ø¬ÙŠ</option>
                            <option>ØªØ²ÙŠÙŠÙ† Ø°Ù‡Ø¨ÙŠ</option>
                        </select>
                    </div>
                </div>

                <div onclick="toggleAddon(this, 250000, 'Ù…ÙˆÙƒØ¨ Ø³ÙŠØ§Ø±ØªÙŠÙ† ÙØ®Ù…Ø©')" class="addon-card p-6 rounded-[2rem] bg-yellow-50 border-2 border-yellow-200 flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <div class="text-3xl text-yellow-600">ğŸ›ï¸</div>
                        <div>
                            <div class="font-black text-yellow-900 text-lg">Ù…ÙˆÙƒØ¨ Ø§Ù„Ø­ÙˆØª Ø§Ù„ÙØ®Ù…</div>
                            <div class="text-sm text-yellow-700">Ø³ÙŠØ§Ø±ØªÙŠÙ† ÙØ®Ù…ØªÙŠÙ† Ø¥Ø¶Ø§ÙÙŠØªÙŠÙ† Ù…Ù† Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø´Ø±ÙƒØ©</div>
                            <div class="text-sm font-black mt-1">+ 250,000 Ø¯.Ø¹</div>
                        </div>
                    </div>
                    <div class="checkbox-custom"><i class="fas fa-check"></i></div>
                </div>
            </div>

            <div class="mt-10 pt-6 border-t flex flex-col items-center">
                <div class="text-center mb-6">
                    <span class="text-gray-400 font-bold">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¥Ø¶Ø§ÙÙŠ:</span>
                    <div id="totalAddons" class="text-3xl font-black text-[#002349]">0 Ø¯.Ø¹</div>
                </div>
                <button onclick="goNext()" class="w-full md:w-2/3 bg-[#D4AF37] text-[#002349] py-5 rounded-3xl font-black text-xl shadow-xl hover:shadow-2xl transition-all">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª <i class="fas fa-chevron-left mr-2"></i></button>
            </div>
        </div>
    </main>

    <script>
        const u = new URLSearchParams(window.location.search);
        let currentTotal = 0;
        let selectedAddons = [];

        window.onload = function() {
            document.getElementById('carDisplay').innerText = `Ø§Ù„Ø³ÙŠØ§Ø±Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©: ${u.get('car')}`;
            if(u.get('type') === 'wedding') {
                document.getElementById('weddingSection').classList.remove('hidden');
            } else {
                document.getElementById('personalSection').classList.remove('hidden');
            }
        };

        function toggleAddon(el, price, name) {
            el.classList.toggle('selected');
            if(el.classList.contains('selected')) {
                currentTotal += price;
                selectedAddons.push(name);
            } else {
                currentTotal -= price;
                selectedAddons = selectedAddons.filter(a => a !== name);
            }
            document.getElementById('totalAddons').innerText = currentTotal.toLocaleString() + " Ø¯.Ø¹";
        }

        function goNext() {
            const finalPrice = parseInt(u.get('price')) + currentTotal;
            u.set('total_price', finalPrice);
            u.set('addons', selectedAddons.join(' + '));
            
            // Ø¥Ø¶Ø§ÙØ© Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø­ÙÙ„Ø§Øª Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙˆØ¬ÙˆØ¯Ø©
            if(u.get('type') === 'wedding') {
                const colors = `Ù„ÙˆÙ† Ø§Ù„Ø³ÙŠØ§Ø±Ø©: ${document.getElementById('carColor').value}ØŒ ØªØ²ÙŠÙŠÙ†: ${document.getElementById('decorColor').value}`;
                u.set('colors', colors);
                window.location.href = `booking_wedding.html?${u.toString()}`;
            } else {
                window.location.href = `booking_personal.html?${u.toString()}`;
            }
        }
    </script>
</body>
</html>
